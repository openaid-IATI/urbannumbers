// page init
function initSidebarCheck(){var e=document.getElementById("twocolumns"),t=document.getElementById("sidebar");!t&&e&&(e.className+=" full-width")}function initDoubleClick(){var e=/MSIE 10.*Touch/.test(navigator.userAgent)||"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch;jQuery(".double-click").each(function(){var t=jQuery(this).attr("readonly","readonly"),n=t.prev(".input-placeholder-text"),r=t.parent();r.bind(e?"touchstart MSPointerDown":"dblclick",function(e){setTimeout(function(){t.removeAttr("readonly").focus();n.hide()},100)})})}function initSlideShow(){jQuery("div.visual").fadeGallery({slides:"div.slide",btnPrev:"a.btn-prev",btnNext:"a.btn-next",generatePagination:".pagination",event:"click",autoRotation:!0,autoHeight:!0,switchTime:4e3,animSpeed:500})}function initAccordion(){jQuery(".container-sort:has(.sort-list)").slideAccordion({opener:"a.opener, .btn-close",slider:".slide",animSpeed:300,items:".sort-list > li:has(.slide)"})}function initPopups(){jQuery("#nav").contentPopup({mode:"click",popup:"ul",btnOpen:".opener"});jQuery(".action-list>li").contentPopup({mode:"click",popup:".dropdown-box",btnOpen:".opener",btnClose:".btn-close"})}function initBackgroundResize(){jQuery(".slide").each(function(){ImageStretcher.add({container:this,image:".visual-decor"})})}function initInputs(){PlaceholderInput.replaceByOptions({clearInputs:!0,clearTextareas:!0,clearPasswords:!0,skipClass:"default",showPasswordBullets:!0,wrapWithElement:!0,showUntilTyping:!0,getParentByClass:!1,placeholderAttr:"placeholder"})}function initSameHeight(){jQuery(".box-container").sameHeight({elements:".box>.holder",useMinHeight:!0,flexible:!0,multiLine:!0});jQuery(".thumbnails").sameHeight({elements:".text-holder",flexible:!0,multiLine:!0});jQuery(".sort-columns").sameHeight({elements:".column",flexible:!0,multiLine:!0});jQuery(".container-columns, #sidebar").sameHeight({elements:".heading-holder",flexible:!0,multiLine:!0})}function initTouchNav(){jQuery("#nav").each(function(){new TouchNav({navBlock:this})})}function TouchNav(e){this.options={hoverClass:"hover",menuItems:"li",menuOpener:"a",menuDrop:"ul",navBlock:null};for(var t in e)e.hasOwnProperty(t)&&(this.options[t]=e[t]);this.init()}jQuery(function(){jcf.customForms.replaceAll();initTouchNav();initSlideShow();initAccordion();initPopups();initBackgroundResize();initInputs();initSameHeight();initDoubleClick();initSidebarCheck()});(function(e){function t(t){this.options=e.extend({slides:"ul.slideset > li",activeClass:"active",disabledClass:"disabled",btnPrev:"a.btn-prev",btnNext:"a.btn-next",generatePagination:!1,pagerList:"<ul>",pagerListItem:'<li><a href="#"></a></li>',pagerListItemText:"a",pagerLinks:".pagination li",currentNumber:"span.current-num",totalNumber:"span.total-num",btnPlay:".btn-play",btnPause:".btn-pause",btnPlayPause:".btn-play-pause",galleryReadyClass:"gallery-js-ready",autorotationActiveClass:"autorotation-active",autorotationDisabledClass:"autorotation-disabled",autorotationStopAfterClick:!1,circularRotation:!0,switchSimultaneously:!0,disableWhileAnimating:!1,disableFadeIE:!1,autoRotation:!1,pauseOnHover:!0,autoHeight:!1,useSwipe:!1,swipeThreshold:15,switchTime:4e3,animSpeed:600,event:"click"},t);this.init()}t.prototype={init:function(){if(this.options.holder){this.findElements();this.attachEvents();this.refreshState(!0);this.autoRotate();this.makeCallback("onInit",this)}},findElements:function(){this.gallery=e(this.options.holder).addClass(this.options.galleryReadyClass);this.slides=this.gallery.find(this.options.slides);this.slidesHolder=this.slides.eq(0).parent();this.stepsCount=this.slides.length;this.btnPrev=this.gallery.find(this.options.btnPrev);this.btnNext=this.gallery.find(this.options.btnNext);this.currentIndex=0;this.options.disableFadeIE&&!e.support.opacity&&(this.options.animSpeed=0);if(typeof this.options.generatePagination=="string"){this.pagerHolder=this.gallery.find(this.options.generatePagination).empty();this.pagerList=e(this.options.pagerList).appendTo(this.pagerHolder);for(var t=0;t<this.stepsCount;t++)e(this.options.pagerListItem).appendTo(this.pagerList).find(this.options.pagerListItemText).text(t+1);this.pagerLinks=this.pagerList.children()}else this.pagerLinks=this.gallery.find(this.options.pagerLinks);var n=this.slides.filter("."+this.options.activeClass);n.length&&(this.currentIndex=this.slides.index(n));this.prevIndex=this.currentIndex;this.btnPlay=this.gallery.find(this.options.btnPlay);this.btnPause=this.gallery.find(this.options.btnPause);this.btnPlayPause=this.gallery.find(this.options.btnPlayPause);this.curNum=this.gallery.find(this.options.currentNumber);this.allNum=this.gallery.find(this.options.totalNumber);this.slides.css({display:"block",opacity:0}).eq(this.currentIndex).css({opacity:""})},attachEvents:function(){var t=this;this.resizeHandler=function(){t.onWindowResize()};e(window).bind("load resize orientationchange",this.resizeHandler);if(this.btnPrev.length){this.btnPrevHandler=function(e){e.preventDefault();t.prevSlide();t.options.autorotationStopAfterClick&&t.stopRotation()};this.btnPrev.bind(this.options.event,this.btnPrevHandler)}if(this.btnNext.length){this.btnNextHandler=function(e){e.preventDefault();t.nextSlide();t.options.autorotationStopAfterClick&&t.stopRotation()};this.btnNext.bind(this.options.event,this.btnNextHandler)}if(this.pagerLinks.length){this.pagerLinksHandler=function(e){e.preventDefault();t.numSlide(t.pagerLinks.index(e.currentTarget));t.options.autorotationStopAfterClick&&t.stopRotation()};this.pagerLinks.bind(t.options.event,this.pagerLinksHandler)}if(this.btnPlay.length){this.btnPlayHandler=function(e){e.preventDefault();t.startRotation()};this.btnPlay.bind(this.options.event,this.btnPlayHandler)}if(this.btnPause.length){this.btnPauseHandler=function(e){e.preventDefault();t.stopRotation()};this.btnPause.bind(this.options.event,this.btnPauseHandler)}if(this.btnPlayPause.length){this.btnPlayPauseHandler=function(e){e.preventDefault();t.gallery.hasClass(t.options.autorotationActiveClass)?t.stopRotation():t.startRotation()};this.btnPlayPause.bind(this.options.event,this.btnPlayPauseHandler)}this.options.useSwipe&&e.fn.hammer&&n&&this.gallery.hammer({drag_block_horizontal:!0,drag_min_distance:1}).on("release dragleft dragright swipeleft swiperight",function(e){switch(e.type){case"dragright":case"dragleft":e.gesture.preventDefault();break;case"swipeleft":t.nextSlide();e.gesture.stopDetect();break;case"swiperight":t.prevSlide();e.gesture.stopDetect();break;case"release":Math.abs(e.gesture[t.options.vertical?"deltaY":"deltaX"])>t.options.swipeThreshold&&(e.gesture.direction=="right"?t.prevSlide():e.gesture.direction=="left"&&t.nextSlide())}});if(this.options.pauseOnHover){this.hoverHandler=function(){if(t.options.autoRotation){t.galleryHover=!0;t.pauseRotation()}};this.leaveHandler=function(){if(t.options.autoRotation){t.galleryHover=!1;t.resumeRotation()}};this.gallery.bind({mouseenter:this.hoverHandler,mouseleave:this.leaveHandler})}},onWindowResize:function(){this.options.autoHeight&&this.slidesHolder.css({height:this.slides.eq(this.currentIndex).outerHeight(!0)})},prevSlide:function(){if(!this.options.disableWhileAnimating||!this.galleryAnimating){this.prevIndex=this.currentIndex;if(this.currentIndex>0){this.currentIndex--;this.switchSlide()}else if(this.options.circularRotation){this.currentIndex=this.stepsCount-1;this.switchSlide()}}},nextSlide:function(e){if(!this.options.disableWhileAnimating||!this.galleryAnimating){this.prevIndex=this.currentIndex;if(this.currentIndex<this.stepsCount-1){this.currentIndex++;this.switchSlide()}else if(this.options.circularRotation||e===!0){this.currentIndex=0;this.switchSlide()}}},numSlide:function(e){if(this.currentIndex!=e){this.prevIndex=this.currentIndex;this.currentIndex=e;this.switchSlide()}},switchSlide:function(){var e=this;if(this.slides.length>1){this.galleryAnimating=!0;this.options.animSpeed?this.slides.eq(this.prevIndex).stop().animate({opacity:0},{duration:this.options.animSpeed}):this.slides.eq(this.prevIndex).css({opacity:0});this.switchNext=function(){e.options.animSpeed?e.slides.eq(e.currentIndex).stop().animate({opacity:1},{duration:e.options.animSpeed}):e.slides.eq(e.currentIndex).css({opacity:""});clearTimeout(this.nextTimer);this.nextTimer=setTimeout(function(){e.slides.eq(e.currentIndex).css({opacity:""});e.galleryAnimating=!1;e.autoRotate();e.makeCallback("onChange",e)},e.options.animSpeed)};if(this.options.switchSimultaneously)e.switchNext();else{clearTimeout(this.switchTimer);this.switchTimer=setTimeout(function(){e.switchNext()},this.options.animSpeed)}this.refreshState();this.makeCallback("onBeforeChange",this)}},refreshState:function(e){this.slides.removeClass(this.options.activeClass).eq(this.currentIndex).addClass(this.options.activeClass);this.pagerLinks.removeClass(this.options.activeClass).eq(this.currentIndex).addClass(this.options.activeClass);this.curNum.html(this.currentIndex+1);this.allNum.html(this.stepsCount);this.options.autoHeight&&(e?this.slidesHolder.css({height:this.slides.eq(this.currentIndex).outerHeight(!0)}):this.slidesHolder.stop().animate({height:this.slides.eq(this.currentIndex).outerHeight(!0)},{duration:this.options.animSpeed}));if(!this.options.circularRotation){this.btnPrev.add(this.btnNext).removeClass(this.options.disabledClass);this.currentIndex===0&&this.btnPrev.addClass(this.options.disabledClass);this.currentIndex===this.stepsCount-1&&this.btnNext.addClass(this.options.disabledClass)}this.gallery.toggleClass("not-enough-slides",this.stepsCount===1)},startRotation:function(){this.options.autoRotation=!0;this.galleryHover=!1;this.autoRotationStopped=!1;this.resumeRotation()},stopRotation:function(){this.galleryHover=!0;this.autoRotationStopped=!0;this.pauseRotation()},pauseRotation:function(){this.gallery.addClass(this.options.autorotationDisabledClass);this.gallery.removeClass(this.options.autorotationActiveClass);clearTimeout(this.timer)},resumeRotation:function(){if(!this.autoRotationStopped){this.gallery.addClass(this.options.autorotationActiveClass);this.gallery.removeClass(this.options.autorotationDisabledClass);this.autoRotate()}},autoRotate:function(){var e=this;clearTimeout(this.timer);if(this.options.autoRotation&&!this.galleryHover&&!this.autoRotationStopped){this.gallery.addClass(this.options.autorotationActiveClass);this.timer=setTimeout(function(){e.nextSlide(!0)},this.options.switchTime)}else this.pauseRotation()},makeCallback:function(e){if(typeof this.options[e]=="function"){var t=Array.prototype.slice.call(arguments);t.shift();this.options[e].apply(this,t)}},destroy:function(){this.btnPrev.unbind(this.options.event,this.btnPrevHandler);this.btnNext.unbind(this.options.event,this.btnNextHandler);this.pagerLinks.unbind(this.options.event,this.pagerLinksHandler);e(window).unbind("load resize orientationchange",this.resizeHandler);this.stopRotation();this.btnPlay.unbind(this.options.event,this.btnPlayHandler);this.btnPause.unbind(this.options.event,this.btnPauseHandler);this.btnPlayPause.unbind(this.options.event,this.btnPlayPauseHandler);this.gallery.bind({mouseenter:this.hoverHandler,mouseleave:this.leaveHandler});this.options.useSwipe&&e.fn.hammer&&this.gallery.hammer().off("release dragleft dragright swipeleft swiperight");typeof this.options.generatePagination=="string"&&this.pagerHolder.empty();var t=[this.options.galleryReadyClass,this.options.autorotationActiveClass,this.options.autorotationDisabledClass];this.gallery.removeClass(t.join(" "));this.slidesHolder.add(this.slides).removeAttr("style")}};var n=/MSIE 10.*Touch/.test(navigator.userAgent)||"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch;e.fn.fadeGallery=function(n){return this.each(function(){e(this).data("FadeGallery",new t(e.extend(n,{holder:this})))})}})(jQuery);(function(e){e.fn.slideAccordion=function(r){var i=e.extend({addClassBeforeAnimation:!1,activeClass:"active",opener:".opener",slider:".slide",animSpeed:300,collapsible:!0,event:"click"},r);return this.each(function(){var r=e(this);if(i.items)var s=r.find(i.items);else var s=r.find(":has("+i.slider+")");s.each(function(){var r=e(this),o=r.find(i.opener),u=r.find(i.slider);o.bind(i.event,function(e){if(!u.is(":animated"))if(r.hasClass(i.activeClass))i.collapsible&&u.slideUp(i.animSpeed,function(){n(u);r.removeClass(i.activeClass)});else{var o=s.filter("."+i.activeClass),a=o.find(i.slider);r.addClass(i.activeClass);t(u).hide().slideDown(i.animSpeed);a.slideUp(i.animSpeed,function(){o.removeClass(i.activeClass);n(a)})}e.preventDefault()});r.hasClass(i.activeClass)?t(u):n(u)})})};var t=function(e){return e.css({position:"",top:"",left:"",width:""})},n=function(e){return e.show().css({position:"absolute",top:-9999,left:-9999,width:e.width()})}})(jQuery);(function(e){function t(t){this.options=e.extend({holder:null,popup:".popup",btnOpen:".open",btnClose:".close",openClass:"popup-active",clickEvent:"click",mode:"click",hideOnClickLink:!0,hideOnClickOutside:!0,delay:50},t);if(this.options.holder){this.holder=e(this.options.holder);this.init()}}t.prototype={init:function(){this.findElements();this.attachEvents()},findElements:function(){this.popup=this.holder.find(this.options.popup);this.btnOpen=this.holder.find(this.options.btnOpen);this.btnClose=this.holder.find(this.options.btnClose)},attachEvents:function(){var e=this;this.clickMode=n||e.options.mode===e.options.clickEvent;if(this.clickMode){this.btnOpen.bind(e.options.clickEvent,function(t){e.holder.hasClass(e.options.openClass)?e.options.hideOnClickLink&&e.hidePopup():e.showPopup();t.preventDefault()});this.outsideClickHandler=this.bind(this.outsideClickHandler,this)}else{var t,r=function(n){clearTimeout(t);t=setTimeout(function(){n.call(e)},e.options.delay)};this.btnOpen.bind("mouseover",function(){r(e.showPopup)}).bind("mouseout",function(){r(e.hidePopup)});this.popup.bind("mouseover",function(){r(e.showPopup)}).bind("mouseout",function(){r(e.hidePopup)})}this.btnClose.bind(e.options.clickEvent,function(t){e.hidePopup();t.preventDefault()})},outsideClickHandler:function(t){var n=(t.changedTouches?t.changedTouches[0]:t).target;e(n).parents().filter(this.holder).length||this.hidePopup()},showPopup:function(){this.holder.addClass(this.options.openClass);this.popup.css({display:"block"});if(this.clickMode&&this.options.hideOnClickOutside&&!this.outsideHandlerActive){this.outsideHandlerActive=!0;e(document).bind("click touchstart",this.outsideClickHandler)}},hidePopup:function(){this.holder.removeClass(this.options.openClass);this.popup.css({display:"none"});if(this.clickMode&&this.options.hideOnClickOutside&&this.outsideHandlerActive){this.outsideHandlerActive=!1;e(document).unbind("click touchstart",this.outsideClickHandler)}},bind:function(e,t,n){return function(){return e.apply(t,n?[n]:arguments)}}};var n=/MSIE 10.*Touch/.test(navigator.userAgent)||"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch;e.fn.contentPopup=function(n){return this.each(function(){new t(e.extend(n,{holder:this}))})}})(jQuery);(function(e){function n(n,s){var o=e(),u,a=0,f=n.eq(0).offset().top;n.each(function(t){var n=e(this);if(n.offset().top===f)o=o.add(this);else{u=r(o);a=Math.max(a,i(o,u,s));o=n;f=n.offset().top}});if(o.length){u=r(o);a=Math.max(a,i(o,u,s))}s.biggestHeight&&n.css(s.useMinHeight&&t?"minHeight":"height",a)}function r(t){var n=0;t.each(function(){n=Math.max(n,e(this).outerHeight())});return n}function i(n,r,i){var s,o=typeof r=="number"?r:r.height();n.removeClass(i.leftEdgeClass).removeClass(i.rightEdgeClass).each(function(n){var u=e(this),a=0,f=u.css("boxSizing")==="border-box"||u.css("-moz-box-sizing")==="border-box"||!1;typeof r!="number"&&u.parents().each(function(){var t=e(this);if(r.is(this))return!1;a+=t.outerHeight()-t.height()});s=o-a;s-=f?0:u.outerHeight()-u.height();s>0&&u.css(i.useMinHeight&&t?"minHeight":"height",s)});n.filter(":first").addClass(i.leftEdgeClass);n.filter(":last").addClass(i.rightEdgeClass);return s}e.fn.sameHeight=function(r){var s=e.extend({skipClass:"same-height-ignore",leftEdgeClass:"same-height-left",rightEdgeClass:"same-height-right",elements:">*",flexible:!1,multiLine:!1,useMinHeight:!1,biggestHeight:!1},r);return this.each(function(){function f(){a.css(s.useMinHeight&&t?"minHeight":"height","");s.multiLine?n(a,s):i(a,r,s)}var r=e(this),o,u,a=r.find(s.elements).not("."+s.skipClass);if(!a.length)return;f();var l=function(){if(!u){u=!0;f();clearTimeout(o);o=setTimeout(function(){f();setTimeout(function(){u=!1},10)},100)}};s.flexible&&e(window).bind("resize orientationchange fontresize",l);e(window).bind("load",l)})};var t=typeof document.documentElement.style.maxHeight!="undefined"})(jQuery);jQuery.onFontResize=function(e){e(function(){var t="font-resize-frame-"+Math.floor(Math.random()*1e3),n=e("<iframe>").attr("id",t).addClass("font-resize-helper");n.css({width:"100em",height:"10px",position:"absolute",borderWidth:0,top:"-9999px",left:"-9999px"}).appendTo("body");if(window.attachEvent&&!window.addEventListener)n.bind("resize",function(){e.onFontResize.trigger(n[0].offsetWidth/100)});else{var r=n[0].contentWindow.document;r.open();r.write('<script>window.onload = function(){var em = parent.jQuery("#'+t+'")[0];window.onresize = function(){if(parent.jQuery.onFontResize){parent.jQuery.onFontResize.trigger(em.offsetWidth / 100);}}};</scri'+"pt>");r.close()}jQuery.onFontResize.initialSize=n[0].offsetWidth/100});return{trigger:function(t){e(window).trigger("fontresize",[t])}}}(jQuery);jcf={modules:{},plugins:{},baseOptions:{unselectableClass:"jcf-unselectable",labelActiveClass:"jcf-label-active",labelDisabledClass:"jcf-label-disabled",classPrefix:"jcf-class-",hiddenClass:"jcf-hidden",focusClass:"jcf-focus",wrapperTag:"div"},customForms:{setOptions:function(e){for(var t in e)e.hasOwnProperty(t)&&typeof e[t]=="object"&&jcf.lib.extend(jcf.modules[t].prototype.defaultOptions,e[t])},replaceAll:function(e){for(var t in jcf.modules){var n=jcf.lib.queryBySelector(jcf.modules[t].prototype.selector,e);for(var r=0;r<n.length;r++)n[r].jcf?n[r].jcf.refreshState():!jcf.lib.hasClass(n[r],"default")&&jcf.modules[t].prototype.checkElement(n[r])&&new jcf.modules[t]({replaces:n[r]})}},refreshAll:function(e){for(var t in jcf.modules){var n=jcf.lib.queryBySelector(jcf.modules[t].prototype.selector,e);for(var r=0;r<n.length;r++)n[r].jcf&&n[r].jcf.refreshState()}},refreshElement:function(e){e&&e.jcf&&e.jcf.refreshState()},destroyAll:function(){for(var e in jcf.modules){var t=jcf.lib.queryBySelector(jcf.modules[e].prototype.selector);for(var n=0;n<t.length;n++)t[n].jcf&&t[n].jcf.destroy()}}},isTouchDevice:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,isWinPhoneDevice:navigator.msPointerEnabled&&/MSIE 10.*Touch/.test(navigator.userAgent),setBaseModule:function(e){jcf.customControl=function(e){this.options=jcf.lib.extend({},jcf.baseOptions,this.defaultOptions,e);this.init()};for(var t in e)jcf.customControl.prototype[t]=e[t]},addModule:function(e){if(e.name){jcf.modules[e.name]=function(){jcf.modules[e.name].superclass.constructor.apply(this,arguments)};jcf.lib.inherit(jcf.modules[e.name],jcf.customControl);for(var t in e)jcf.modules[e.name].prototype[t]=e[t];jcf.modules[e.name].prototype.onCreateModule();for(var n in jcf.modules)jcf.modules[n]!=jcf.modules[e.name]&&jcf.modules[n].prototype.onModuleAdded(jcf.modules[e.name])}},addPlugin:function(e){if(e&&e.name){jcf.plugins[e.name]=function(){this.init.apply(this,arguments)};for(var t in e)jcf.plugins[e.name].prototype[t]=e[t]}},init:function(){if(navigator.pointerEnabled||navigator.msPointerEnabled){this.eventPress=navigator.pointerEnabled?"pointerdown":"MSPointerDown";this.eventMove=navigator.pointerEnabled?"pointermove":"MSPointerMove";this.eventRelease=navigator.pointerEnabled?"pointerup":"MSPointerUp"}else{this.eventPress="mousedown";this.eventMove="mousemove";this.eventRelease="mouseup"}if(this.isTouchDevice){this.eventPress+=" touchstart";this.eventMove+=" touchmove";this.eventRelease+=" touchend"}setTimeout(function(){jcf.lib.domReady(function(){jcf.initStyles()})},1);return this},initStyles:function(){var e=document.getElementsByTagName("head")[0],t=document.createElement("style"),n=document.createTextNode("."+jcf.baseOptions.unselectableClass+"{"+"-moz-user-select:none;"+"-webkit-tap-highlight-color:rgba(255,255,255,0);"+"-webkit-user-select:none;"+"user-select:none;"+"}");t.type="text/css";t.styleSheet?t.styleSheet.cssText=n.nodeValue:t.appendChild(n);e.appendChild(t)}}.init();jcf.setBaseModule({init:function(){if(this.options.replaces){this.realElement=this.options.replaces;this.realElement.jcf=this;this.replaceObject()}},defaultOptions:{},checkElement:function(e){return!0},replaceObject:function(){this.createWrapper();this.attachEvents();this.fixStyles();this.setupWrapper()},createWrapper:function(){this.fakeElement=jcf.lib.createElement(this.options.wrapperTag);this.labelFor=jcf.lib.getLabelFor(this.realElement);jcf.lib.disableTextSelection(this.fakeElement);jcf.lib.addClass(this.fakeElement,jcf.lib.getAllClasses(this.realElement.className,this.options.classPrefix));jcf.lib.addClass(this.realElement,jcf.baseOptions.hiddenClass)},attachEvents:function(){jcf.lib.event.add(this.realElement,"focus",this.onFocusHandler,this);jcf.lib.event.add(this.realElement,"blur",this.onBlurHandler,this);jcf.lib.event.add(this.fakeElement,"click",this.onFakeClick,this);jcf.lib.event.add(this.fakeElement,jcf.eventPress,this.onFakePressed,this);jcf.lib.event.add(this.fakeElement,jcf.eventRelease,this.onFakeReleased,this);if(this.labelFor){this.labelFor.jcf=this;jcf.lib.event.add(this.labelFor,"click",this.onFakeClick,this);jcf.lib.event.add(this.labelFor,jcf.eventPress,this.onFakePressed,this);jcf.lib.event.add(this.labelFor,jcf.eventRelease,this.onFakeReleased,this)}},fixStyles:function(){if(jcf.isTouchDevice){var e="rgba(255,255,255,0)";this.realElement.style.webkitTapHighlightColor=e;this.fakeElement.style.webkitTapHighlightColor=e;this.labelFor&&(this.labelFor.style.webkitTapHighlightColor=e)}},setupWrapper:function(){},refreshState:function(){},destroy:function(){if(this.fakeElement&&this.fakeElement.parentNode){this.fakeElement.parentNode.insertBefore(this.realElement,this.fakeElement);this.fakeElement.parentNode.removeChild(this.fakeElement)}jcf.lib.removeClass(this.realElement,jcf.baseOptions.hiddenClass);this.realElement.jcf=null},onFocus:function(){jcf.lib.addClass(this.fakeElement,this.options.focusClass)},onBlur:function(e){jcf.lib.removeClass(this.fakeElement,this.options.focusClass)},onFocusHandler:function(){if(this.focused)return;this.focused=!0;if(jcf.isTouchDevice){if(jcf.focusedInstance&&jcf.focusedInstance.realElement!=this.realElement){jcf.focusedInstance.onBlur();jcf.focusedInstance.realElement.blur()}jcf.focusedInstance=this}this.onFocus.apply(this,arguments)},onBlurHandler:function(){if(!this.pressedFlag){this.focused=!1;this.onBlur.apply(this,arguments)}},onFakeClick:function(){jcf.isTouchDevice?this.onFocus():this.realElement.disabled||this.realElement.focus()},onFakePressed:function(e){this.pressedFlag=!0},onFakeReleased:function(){this.pressedFlag=!1},onCreateModule:function(){},onModuleAdded:function(e){},onControlReady:function(){}});jcf.lib={bind:function(e,t){return function(){return e.apply(t,arguments)}},browser:function(){var e=navigator.userAgent.toLowerCase(),t={},n=/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version)?[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+))?/.exec(e)||[];t[n[1]]=!0;t.version=n[2]||"0";t.safariMac=e.indexOf("mac")!=-1&&e.indexOf("safari")!=-1;return t}(),getOffset:function(e){if(e.getBoundingClientRect&&!jcf.isWinPhoneDevice){var t=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,n=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,r=document.documentElement.clientLeft||document.body.clientLeft||0,i=document.documentElement.clientTop||document.body.clientTop||0;return{top:Math.round(e.getBoundingClientRect().top+n-i),left:Math.round(e.getBoundingClientRect().left+t-r)}}var s=0,o=0;while(e.offsetParent){s+=e.offsetLeft;o+=e.offsetTop;e=e.offsetParent}return{top:o,left:s}},getScrollTop:function(){return window.pageYOffset||document.documentElement.scrollTop},getScrollLeft:function(){return window.pageXOffset||document.documentElement.scrollLeft},getWindowWidth:function(){return document.compatMode=="CSS1Compat"?document.documentElement.clientWidth:document.body.clientWidth},getWindowHeight:function(){return document.compatMode=="CSS1Compat"?document.documentElement.clientHeight:document.body.clientHeight},getStyle:function(e,t){return document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(e,null)[t]:e.currentStyle?e.currentStyle[t]:e.style[t]},getParent:function(e,t){while(e.parentNode&&e.parentNode!=document.body){if(e.parentNode.tagName.toLowerCase()==t.toLowerCase())return e.parentNode;e=e.parentNode}return!1},isParent:function(e,t){while(t.parentNode){if(t.parentNode===e)return!0;t=t.parentNode}return!1},getLabelFor:function(e){var t=jcf.lib.getParent(e,"label");if(t)return t;if(e.id)return jcf.lib.queryBySelector('label[for="'+e.id+'"]')[0]},disableTextSelection:function(e){typeof e.onselectstart!="undefined"?e.onselectstart=function(){return!1}:window.opera?e.setAttribute("unselectable","on"):jcf.lib.addClass(e,jcf.baseOptions.unselectableClass)},enableTextSelection:function(e){typeof e.onselectstart!="undefined"?e.onselectstart=null:window.opera?e.removeAttribute("unselectable"):jcf.lib.removeClass(e,jcf.baseOptions.unselectableClass)},queryBySelector:function(e,t){if(typeof t=="string"){var n=[],r=this.getElementsBySelector(t);for(var i=0,s;i<r.length;i++){s=Array.prototype.slice.call(this.getElementsBySelector(e,r[i]));n=n.concat(s)}return n}return this.getElementsBySelector(e,t)},prevSibling:function(e){while(e=e.previousSibling)if(e.nodeType==1)break;return e},nextSibling:function(e){while(e=e.nextSibling)if(e.nodeType==1)break;return e},fireEvent:function(e,t){if(e.dispatchEvent){var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0);return!e.dispatchEvent(n)}if(document.createEventObject){var n=document.createEventObject();return e.fireEvent("on"+t,n)}},inherit:function(e,t){var n=function(){};n.prototype=t.prototype;e.prototype=new n;e.prototype.constructor=e;e.superclass=t.prototype},extend:function(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])arguments[t].hasOwnProperty(n)&&(e[n]=arguments[t][n]);return e},hasClass:function(e,t){return e.className?e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)")):!1},addClass:function(e,t){this.hasClass(e,t)||(e.className+=(!e.className.length||e.className.charAt(e.className.length-1)===" "?"":" ")+t)},removeClass:function(e,t){this.hasClass(e,t)&&(e.className=e.className.replace(new RegExp("(\\s|^)"+t+"(\\s|$)")," ").replace(/\s+$/,""))},toggleClass:function(e,t,n){n?this.addClass(e,t):this.removeClass(e,t)},createElement:function(e,t){var n=document.createElement(e);for(var r in t)if(t.hasOwnProperty(r))switch(r){case"class":n.className=t[r];break;case"html":n.innerHTML=t[r];break;case"style":this.setStyles(n,t[r]);break;default:n.setAttribute(r,t[r])}return n},setStyles:function(e,t){for(var n in t)if(t.hasOwnProperty(n))switch(n){case"float":e.style.cssFloat=t[n];break;case"opacity":e.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity="+t[n]*100+")";e.style.opacity=t[n];break;default:e.style[n]=(typeof t[n]=="undefined"?0:t[n])+(typeof t[n]=="number"?"px":"")}return e},getInnerWidth:function(e){return e.offsetWidth-(parseInt(this.getStyle(e,"paddingLeft"))||0)-(parseInt(this.getStyle(e,"paddingRight"))||0)},getInnerHeight:function(e){return e.offsetHeight-(parseInt(this.getStyle(e,"paddingTop"))||0)-(parseInt(this.getStyle(e,"paddingBottom"))||0)},getAllClasses:function(e,t,n){n||(n="");t||(t="");return e?e.replace(new RegExp("(\\s|^)"+n+"(\\s|$)")," ").replace(/[\s]*([\S]+)+[\s]*/gi,t+"$1 "):""},getElementsBySelector:function(e,t){if(typeof document.querySelectorAll=="function")return(t||document).querySelectorAll(e);var n=e.split(","),r=[];for(var i=0;i<n.length;i++){var s=[t||document],o=n[i].replace(/^\s+/,"").replace(/\s+$/,"").split(" ");for(var u=0;u<o.length;u++){token=o[u].replace(/^\s+/,"").replace(/\s+$/,"");if(token.indexOf("#")>-1){var a=token.split("#"),f=a[0],l=a[1],c=document.getElementById(l);if(f&&c.nodeName.toLowerCase()!=f)return[];s=[c];continue}if(token.indexOf(".")>-1){var a=token.split("."),f=a[0]||"*",h=a[1],p=[],d=0;for(var v=0;v<s.length;v++){var m;f=="*"?m=s[v].getElementsByTagName("*"):m=s[v].getElementsByTagName(f);for(var g=0;g<m.length;g++)p[d++]=m[g]}s=[];var y=0;for(var b=0;b<p.length;b++)p[b].className&&p[b].className.match(new RegExp("(\\s|^)"+h+"(\\s|$)"))&&(s[y++]=p[b]);continue}if(token.match(/^(\w*)\[(\w+)([=~\|\^\$\*]?)=?"?([^"]*)"?\]$/)){var f=RegExp.$1||"*",w=RegExp.$2,E=RegExp.$3,S=RegExp.$4;w.toLowerCase()=="for"&&this.browser.msie&&this.browser.version<8&&(w="htmlFor");var p=[],d=0;for(var v=0;v<s.length;v++){var m;f=="*"?m=s[v].getElementsByTagName("*"):m=s[v].getElementsByTagName(f);for(var g=0;m[g];g++)p[d++]=m[g]}s=[];var y=0,x;switch(E){case"=":x=function(e){return e.getAttribute(w)==S};break;case"~":x=function(e){return e.getAttribute(w).match(new RegExp("(\\s|^)"+S+"(\\s|$)"))};break;case"|":x=function(e){return e.getAttribute(w).match(new RegExp("^"+S+"-?"))};break;case"^":x=function(e){return e.getAttribute(w).indexOf(S)==0};break;case"$":x=function(e){return e.getAttribute(w).lastIndexOf(S)==e.getAttribute(w).length-S.length};break;case"*":x=function(e){return e.getAttribute(w).indexOf(S)>-1};break;default:x=function(e){return e.getAttribute(w)}}s=[];var y=0;for(var b=0;b<p.length;b++)x(p[b])&&(s[y++]=p[b]);continue}f=token;var p=[],d=0;for(var v=0;v<s.length;v++){var m=s[v].getElementsByTagName(f);for(var g=0;g<m.length;g++)p[d++]=m[g]}s=p}r=[].concat(r,s)}return r},scrollSize:function(){function i(){t&&s();e=document.createElement("div");t=document.createElement("div");t.style.cssText="position:absolute;overflow:hidden;width:100px;height:100px";t.appendChild(e);document.body.appendChild(t)}function s(){document.body.removeChild(t);t=null}function o(o){i();e.style.cssText="height:"+(o?"100%":"200px");n=o?e.offsetHeight:e.offsetWidth;t.style.overflow="scroll";e.innerHTML=1;r=o?e.offsetHeight:e.offsetWidth;o&&t.clientHeight&&(r=t.clientHeight);s();return n-r}var e,t,n,r;return{getWidth:function(){return o(!1)},getHeight:function(){return o(!0)}}}(),domReady:function(e){function n(){if(t)return;t=!0;e()}var t=!1;if(document.addEventListener)document.addEventListener("DOMContentLoaded",n,!1);else if(document.attachEvent){if(document.documentElement.doScroll&&window==window.top){function r(){if(t)return;if(!document.body)return;try{document.documentElement.doScroll("left");n()}catch(e){setTimeout(r,0)}}r()}document.attachEvent("onreadystatechange",function(){document.readyState==="complete"&&n()})}window.addEventListener?window.addEventListener("load",n,!1):window.attachEvent&&window.attachEvent("onload",n)},event:function(){function t(e){e=e||window.event;if(e.isFixed)return e;e.isFixed=!0;e.preventDefault=e.preventDefault||function(){this.returnValue=!1};e.stopPropagation=e.stopPropagation||function(){this.cancelBubble=!0};e.target||(e.target=e.srcElement);!e.relatedTarget&&e.fromElement&&(e.relatedTarget=e.fromElement==e.target?e.toElement:e.fromElement);if(e.pageX==null&&e.clientX!=null){var t=document.documentElement,n=document.body;e.pageX=e.clientX+(t&&t.scrollLeft||n&&n.scrollLeft||0)-(t.clientLeft||0);e.pageY=e.clientY+(t&&t.scrollTop||n&&n.scrollTop||0)-(t.clientTop||0)}!e.which&&e.button&&(e.which=e.button&1?1:e.button&2?3:e.button&4?2:0);if(e.type==="DOMMouseScroll"||e.type==="mousewheel"){e.mWheelDelta=0;e.wheelDelta?e.mWheelDelta=e.wheelDelta/120:e.detail&&(e.mWheelDelta=-e.detail/3)}return e}function n(e,n){e=t(e);var r=this.events[e.type];for(var i in r){var s=r[i],o=s.call(n||this,e);if(o===!1){e.preventDefault();e.stopPropagation()}}}var e=0,r={add:function(t,i,s,o){if(i.indexOf(" ")>-1){var u=i.split(" ");for(var a=0;a<u.length;a++)r.add(t,u[a],s,o);return}t.setInterval&&t!=window&&!t.frameElement&&(t=window);s.guid||(s.guid=++e);if(!t.events){t.events={};t.handle=function(e){return n.call(t,e)}}if(!t.events[i]){t.events[i]={};t.addEventListener?t.addEventListener(i,t.handle,!1):t.attachEvent&&t.attachEvent("on"+i,t.handle);i==="mousewheel"&&r.add(t,"DOMMouseScroll",s,o)}var f=jcf.lib.bind(s,o);f.guid=s.guid;t.events[i][s.guid]=o?f:s},remove:function(e,t,n){if(t.indexOf(" "
)>-1){var i=t.split(" ");for(var s=0;s<i.length;s++)r.remove(e,i[s],n);return}var o=e.events&&e.events[t];if(!o)return;delete o[n.guid];for(var u in o)return;e.removeEventListener?e.removeEventListener(t,e.handle,!1):e.detachEvent&&e.detachEvent("on"+t,e.handle);delete e.events[t];for(var u in e.events)return;try{delete e.handle;delete e.events}catch(a){if(e.removeAttribute){e.removeAttribute("handle");e.removeAttribute("events")}}t==="mousewheel"&&r.remove(e,"DOMMouseScroll",n)}};return r}()};jcf.addModule({name:"radio",selector:'input[type="radio"]',defaultOptions:{wrapperClass:"rad-area",focusClass:"rad-focus",checkedClass:"rad-checked",uncheckedClass:"rad-unchecked",disabledClass:"rad-disabled",radStructure:"<span></span>"},getRadioGroup:function(e){var t=e.getAttribute("name");return t?jcf.lib.queryBySelector('input[name="'+t+'"]',jcf.lib.getParent("form")):[e]},setupWrapper:function(){jcf.lib.addClass(this.fakeElement,this.options.wrapperClass);this.fakeElement.innerHTML=this.options.radStructure;this.realElement.parentNode.insertBefore(this.fakeElement,this.realElement);this.refreshState();this.addEvents()},addEvents:function(){jcf.lib.event.add(this.fakeElement,"click",this.toggleRadio,this);this.labelFor&&jcf.lib.event.add(this.labelFor,"click",this.toggleRadio,this)},onFocus:function(e){jcf.modules[this.name].superclass.onFocus.apply(this,arguments);setTimeout(jcf.lib.bind(function(){this.refreshState()},this),10)},toggleRadio:function(){if(!this.realElement.disabled&&!this.realElement.checked){this.realElement.checked=!0;jcf.lib.fireEvent(this.realElement,"change")}this.refreshState()},refreshState:function(){var e=this.getRadioGroup(this.realElement);for(var t=0;t<e.length;t++){var n=e[t].jcf;if(n){if(n.realElement.checked){jcf.lib.addClass(n.fakeElement,n.options.checkedClass);jcf.lib.removeClass(n.fakeElement,n.options.uncheckedClass);n.labelFor&&jcf.lib.addClass(n.labelFor,n.options.labelActiveClass)}else{jcf.lib.removeClass(n.fakeElement,n.options.checkedClass);jcf.lib.addClass(n.fakeElement,n.options.uncheckedClass);n.labelFor&&jcf.lib.removeClass(n.labelFor,n.options.labelActiveClass)}if(n.realElement.disabled){jcf.lib.addClass(n.fakeElement,n.options.disabledClass);n.labelFor&&jcf.lib.addClass(n.labelFor,n.options.labelDisabledClass)}else{jcf.lib.removeClass(n.fakeElement,n.options.disabledClass);n.labelFor&&jcf.lib.removeClass(n.labelFor,n.options.labelDisabledClass)}}}}});jcf.addModule({name:"checkbox",selector:'input[type="checkbox"]',defaultOptions:{wrapperClass:"chk-area",focusClass:"chk-focus",checkedClass:"chk-checked",labelActiveClass:"chk-label-active",uncheckedClass:"chk-unchecked",disabledClass:"chk-disabled",chkStructure:"<span></span>"},setupWrapper:function(){jcf.lib.addClass(this.fakeElement,this.options.wrapperClass);this.fakeElement.innerHTML=this.options.chkStructure;this.realElement.parentNode.insertBefore(this.fakeElement,this.realElement);jcf.lib.event.add(this.realElement,"click",this.onRealClick,this);this.refreshState()},isLinkTarget:function(e,t){while(e.parentNode||e===t){if(e.tagName.toLowerCase()==="a")return!0;e=e.parentNode}},onFakePressed:function(){jcf.modules[this.name].superclass.onFakePressed.apply(this,arguments);this.realElement.disabled||this.realElement.focus()},onFakeClick:function(e){jcf.modules[this.name].superclass.onFakeClick.apply(this,arguments);this.tmpTimer=setTimeout(jcf.lib.bind(function(){this.toggle()},this),10);if(!this.isLinkTarget(e.target,this.labelFor))return!1},onRealClick:function(e){setTimeout(jcf.lib.bind(function(){this.refreshState()},this),10);e.stopPropagation()},toggle:function(e){this.realElement.disabled||(this.realElement.checked?this.realElement.checked=!1:this.realElement.checked=!0);this.refreshState();jcf.lib.fireEvent(this.realElement,"change");return!1},refreshState:function(){if(this.realElement.checked){jcf.lib.addClass(this.fakeElement,this.options.checkedClass);jcf.lib.removeClass(this.fakeElement,this.options.uncheckedClass);this.labelFor&&jcf.lib.addClass(this.labelFor,this.options.labelActiveClass)}else{jcf.lib.removeClass(this.fakeElement,this.options.checkedClass);jcf.lib.addClass(this.fakeElement,this.options.uncheckedClass);this.labelFor&&jcf.lib.removeClass(this.labelFor,this.options.labelActiveClass)}if(this.realElement.disabled){jcf.lib.addClass(this.fakeElement,this.options.disabledClass);this.labelFor&&jcf.lib.addClass(this.labelFor,this.options.labelDisabledClass)}else{jcf.lib.removeClass(this.fakeElement,this.options.disabledClass);this.labelFor&&jcf.lib.removeClass(this.labelFor,this.options.labelDisabledClass)}}});PlatformDetect=function(){var e={};return{options:{cssPath:window.pathInfo?pathInfo.base+pathInfo.css:"css/"},addModule:function(t){e[t.type]=t},addRule:function(e){if(this.matchRule(e)){this.applyRule(e);return!0}},matchRule:function(t){return e[t.type].matchRule(t)},applyRule:function(e){var t=document.getElementsByTagName("head")[0],n,r;if(e.css){r='<link rel="stylesheet" href="'+this.options.cssPath+e.css+'" />';if(t){n=document.createElement("div");n.innerHTML=r;t.appendChild(n.childNodes[0])}else document.write(r)}if(e.meta)if(t){n=document.createElement("div");n.innerHTML=e.meta;t.appendChild(n.childNodes[0])}else document.write(e.meta)},matchVersions:function(e,t){t=t.toString();e=e.toString();var n=parseInt(t,10)===parseInt(e,10),r=(e.length>t.length?e.indexOf(t):t.indexOf(e))===0;return n&&r}}}();PlatformDetect.addModule({type:"winphone",parseUserAgent:function(){var e=/(Windows Phone OS) ([0-9.]*).*/.exec(navigator.userAgent);if(e)return{version:e[2]};if(/MSIE 10.*Touch/.test(navigator.userAgent))return{version:8}},matchRule:function(e){this.matchData=this.matchData||this.parseUserAgent();if(this.matchData)return e.version?PlatformDetect.matchVersions(this.matchData.version,e.version):!0}});PlatformDetect.addRule({type:"winphone",css:"winphone.css"});var ImageStretcher={getDimensions:function(e){var t=e.imageRatio||e.imageWidth/e.imageHeight,n=e.maskWidth,r=n/t;if(r<e.maskHeight){r=e.maskHeight;n=r*t}return{width:n,height:r,top:(e.maskHeight-r)/2,left:(e.maskWidth-n)/2}},getRatio:function(e){if(e.prop("naturalWidth"))return e.prop("naturalWidth")/e.prop("naturalHeight");var t=new Image;t.src=e.prop("src");return t.width/t.height},imageLoaded:function(e,t){var n=this,r=function(){t.call(n)};e.prop("complete")?r():e.one("load",r)},resizeHandler:function(){var e=this;jQuery.each(this.imgList,function(t,n){n.image.prop("complete")&&e.resizeImage(n.image,n.container)})},resizeImage:function(e,t){this.imageLoaded(e,function(){var n=this.getDimensions({imageRatio:this.getRatio(e),maskWidth:t.width(),maskHeight:t.height()});e.css({width:n.width,height:n.height,marginTop:n.top,marginLeft:n.left})})},add:function(e){var t=jQuery(e.container?e.container:window),n=typeof e.image=="string"?t.find(e.image):jQuery(e.image);this.resizeImage(n,t);if(!this.win){this.resizeHandler=jQuery.proxy(this.resizeHandler,this);this.imgList=[];this.win=jQuery(window);this.win.on("resize orientationchange",this.resizeHandler)}this.imgList.push({container:t,image:n})}};(function(){function t(e){var t=[];for(var n=0,r=t.length=e.length;n<r;n++)t[n]=e[n];return t}function n(e){return(e.type?e.type:e.tagName).toLowerCase()}function r(e,t){return e.className?e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)")):!1}function i(e,t){r(e,t)||(e.className+=" "+t)}function s(e,t){r(e,t)&&(e.className=e.className.replace(new RegExp("(\\s|^)"+t+"(\\s|$)")," "))}function o(e,t){return function(){return e.apply(t,arguments)}}function u(e,t){return document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(e,null)[t]:e.currentStyle?e.currentStyle[t]:e.style[t]}var e=[];PlaceholderInput=function(){this.options={element:null,showUntilTyping:!1,wrapWithElement:!1,getParentByClass:!1,showPasswordBullets:!1,placeholderAttr:"value",inputFocusClass:"focus",inputActiveClass:"text-active",parentFocusClass:"parent-focus",parentActiveClass:"parent-active",labelFocusClass:"label-focus",labelActiveClass:"label-active",fakeElementClass:"input-placeholder-text"};e.push(this);this.init.apply(this,arguments)};PlaceholderInput.refreshAllInputs=function(t){for(var n=0;n<e.length;n++)t!==e[n]&&e[n].refreshState()};PlaceholderInput.replaceByOptions=function(e){var r=[].concat(t(document.getElementsByTagName("input")),t(document.getElementsByTagName("textarea")));for(var i=0;i<r.length;i++)if(r[i].className.indexOf(e.skipClass)<0){var s=n(r[i]),o=r[i].getAttribute("placeholder");(e.focusOnly||e.clearInputs&&(s==="text"||s==="email"||o)||e.clearTextareas&&s==="textarea"||e.clearPasswords&&s==="password")&&new PlaceholderInput({element:r[i],focusOnly:e.focusOnly,wrapWithElement:e.wrapWithElement,showUntilTyping:e.showUntilTyping,getParentByClass:e.getParentByClass,showPasswordBullets:e.showPasswordBullets,placeholderAttr:o?"placeholder":e.placeholderAttr})}};PlaceholderInput.prototype={init:function(e){this.setOptions(e);if(this.element&&this.element.PlaceholderInst)this.element.PlaceholderInst.refreshClasses();else{this.element.PlaceholderInst=this;if(this.elementType!=="radio"||this.elementType!=="checkbox"||this.elementType!=="file"){this.initElements();this.attachEvents();this.refreshClasses()}}},setOptions:function(e){for(var t in e)e.hasOwnProperty(t)&&(this.options[t]=e[t]);if(this.options.element){this.element=this.options.element;this.elementType=n(this.element);this.options.focusOnly?this.wrapWithElement=!1:this.elementType==="password"&&this.options.showPasswordBullets&&!this.options.showUntilTyping?this.wrapWithElement=!1:this.wrapWithElement=this.elementType==="password"||this.options.showUntilTyping?!0:this.options.wrapWithElement;this.setPlaceholderValue(this.options.placeholderAttr)}},setPlaceholderValue:function(e){this.origValue=e==="value"?this.element.defaultValue:this.element.getAttribute(e)||"";this.options.placeholderAttr!=="value"&&this.element.removeAttribute(this.options.placeholderAttr)},initElements:function(){if(this.wrapWithElement){this.fakeElement=document.createElement("span");this.fakeElement.className=this.options.fakeElementClass;this.fakeElement.innerHTML+=this.origValue;this.fakeElement.style.color=u(this.element,"color");this.fakeElement.style.position="absolute";this.element.parentNode.insertBefore(this.fakeElement,this.element);if(this.element.value===this.origValue||!this.element.value){this.element.value="";this.togglePlaceholderText(!0)}else this.togglePlaceholderText(!1)}else!this.element.value&&this.origValue.length&&(this.element.value=this.origValue);if(this.element.id){this.labels=document.getElementsByTagName("label");for(var e=0;e<this.labels.length;e++)if(this.labels[e].htmlFor===this.element.id){this.labelFor=this.labels[e];break}}this.elementParent=this.element.parentNode;if(typeof this.options.getParentByClass=="string"){var t=this.element;while(t.parentNode){if(r(t.parentNode,this.options.getParentByClass)){this.elementParent=t.parentNode;break}t=t.parentNode}}},attachEvents:function(){this.element.onfocus=o(this.focusHandler,this);this.element.onblur=o(this.blurHandler,this);if(this.options.showUntilTyping){this.element.onkeydown=o(this.typingHandler,this);this.element.onpaste=o(this.typingHandler,this)}this.wrapWithElement&&(this.fakeElement.onclick=o(this.focusSetter,this))},togglePlaceholderText:function(e){!this.element.readOnly&&!this.options.focusOnly&&(this.wrapWithElement?this.fakeElement.style.display=e?"":"none":this.element.value=e?this.origValue:"")},focusSetter:function(){this.element.focus()},focusHandler:function(){clearInterval(this.checkerInterval);this.checkerInterval=setInterval(o(this.intervalHandler,this),1);this.focused=!0;if(!this.element.value.length||this.element.value===this.origValue)this.options.showUntilTyping||this.togglePlaceholderText(!1);this.refreshClasses()},blurHandler:function(){clearInterval(this.checkerInterval);this.focused=!1;(!this.element.value.length||this.element.value===this.origValue)&&this.togglePlaceholderText(!0);this.refreshClasses();PlaceholderInput.refreshAllInputs(this)},typingHandler:function(){setTimeout(o(function(){if(this.element.value.length){this.togglePlaceholderText(!1);this.refreshClasses()}},this),10)},intervalHandler:function(){typeof this.tmpValue=="undefined"&&(this.tmpValue=this.element.value);this.tmpValue!=this.element.value&&PlaceholderInput.refreshAllInputs(this)},refreshState:function(){this.wrapWithElement&&(this.element.value.length&&this.element.value!==this.origValue?this.togglePlaceholderText(!1):this.element.value.length||this.togglePlaceholderText(!0));this.refreshClasses()},refreshClasses:function(){this.textActive=this.focused||this.element.value.length&&this.element.value!==this.origValue;this.setStateClass(this.element,this.options.inputFocusClass,this.focused);this.setStateClass(this.elementParent,this.options.parentFocusClass,this.focused);this.setStateClass(this.labelFor,this.options.labelFocusClass,this.focused);this.setStateClass(this.element,this.options.inputActiveClass,this.textActive);this.setStateClass(this.elementParent,this.options.parentActiveClass,this.textActive);this.setStateClass(this.labelFor,this.options.labelActiveClass,this.textActive)},setStateClass:function(e,t,n){if(!e)return;n?i(e,t):s(e,t)}}})();TouchNav.isActiveOn=function(e){return e&&e.touchNavActive};TouchNav.prototype={init:function(){typeof this.options.navBlock=="string"?this.menu=document.getElementById(this.options.navBlock):typeof this.options.navBlock=="object"&&(this.menu=this.options.navBlock);this.menu&&this.addEvents()},addEvents:function(){var e=this,t=navigator.pointerEnabled&&"pointerdown"||navigator.msPointerEnabled&&"MSPointerDown"||this.isTouchDevice&&"touchstart";this.menuItems=lib.queryElementsBySelector(this.options.menuItems,this.menu);var n=function(n){var r=lib.queryElementsBySelector(e.options.menuDrop,n)[0],i=lib.queryElementsBySelector(e.options.menuOpener,n)[0];if(r&&i&&(e.isTouchDevice||e.isPointerDevice)){lib.event.add(i,"click",lib.bind(e.clickHandler,e));lib.event.add(i,"mousedown",lib.bind(e.mousedownHandler,e));lib.event.add(i,t,function(t){if(!e.isTouchPointerEvent(t)){e.preventCurrentClick=!1;return}e.touchFlag=!0;e.currentItem=n;e.currentLink=i;e.pressHandler.apply(e,arguments)})}jQuery(n).bind("mouseenter",function(){if(!e.touchFlag){e.currentItem=n;e.mouseoverHandler()}});jQuery(n).bind("mouseleave",function(){if(!e.touchFlag){e.currentItem=n;e.mouseoutHandler()}});n.touchNavActive=!0};for(var r=0;r<this.menuItems.length;r++)n(e.menuItems[r]);if(this.isTouchDevice||this.isPointerDevice){lib.event.add(document.body,"mousedown",lib.bind(this.clickOutsideHandler,this));lib.event.add(document.body,t,lib.bind(this.clickOutsideHandler,this))}},mousedownHandler:function(e){if(this.touchFlag){e.preventDefault();this.touchFlag=!1;this.preventCurrentClick=!1}},mouseoverHandler:function(){lib.addClass(this.currentItem,this.options.hoverClass);jQuery(this.currentItem).trigger("itemhover")},mouseoutHandler:function(){lib.removeClass(this.currentItem,this.options.hoverClass);jQuery(this.currentItem).trigger("itemleave")},hideActiveDropdown:function(){for(var e=0;e<this.menuItems.length;e++)if(lib.hasClass(this.menuItems[e],this.options.hoverClass)){lib.removeClass(this.menuItems[e],this.options.hoverClass);jQuery(this.menuItems[e]).trigger("itemleave")}this.activeParent=null},pressHandler:function(e){this.currentItem!==this.activeParent&&(this.activeParent&&this.currentItem.parentNode===this.activeParent.parentNode?lib.removeClass(this.activeParent,this.options.hoverClass):this.isParent(this.activeParent,this.currentLink)||this.hideActiveDropdown());this.activeParent=this.currentItem;if(lib.hasClass(this.currentItem,this.options.hoverClass))this.preventCurrentClick=!1;else{e.preventDefault();this.preventCurrentClick=!0;lib.addClass(this.currentItem,this.options.hoverClass);jQuery(this.currentItem).trigger("itemhover")}},clickHandler:function(e){this.preventCurrentClick&&e.preventDefault()},clickOutsideHandler:function(e){var t=e.changedTouches?e.changedTouches[0]:e;if(this.activeParent&&!this.isParent(this.menu,t.target)){this.hideActiveDropdown();this.touchFlag=!1}},isParent:function(e,t){while(t.parentNode){if(t.parentNode==e)return!0;t=t.parentNode}return!1},isTouchPointerEvent:function(e){return e.type.indexOf("touch")>-1||navigator.pointerEnabled&&e.pointerType==="touch"||navigator.msPointerEnabled&&e.pointerType==e.MSPOINTER_TYPE_TOUCH},isPointerDevice:function(){return!!navigator.pointerEnabled||!!navigator.msPointerEnabled}(),isTouchDevice:function(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}()};lib={hasClass:function(e,t){return e&&e.className?e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)")):!1},addClass:function(e,t){e&&!this.hasClass(e,t)&&(e.className+=" "+t)},removeClass:function(e,t){e&&this.hasClass(e,t)&&(e.className=e.className.replace(new RegExp("(\\s|^)"+t+"(\\s|$)")," "))},extend:function(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])arguments[t].hasOwnProperty(n)&&(e[n]=arguments[t][n]);return e},each:function(e,t){var n,r;if(typeof e.length=="number"){for(n=0,r=e.length;n<r;n++)if(t.call(e[n],n,e[n])===!1)break}else for(n in e)if(e.hasOwnProperty(n)&&t.call(e[n],n,e[n])===!1)break},event:function(){var e=function(e){e=e||window.event;if(e.isFixed)return e;e.isFixed=!0;e.target||(e.target=e.srcElement);e.preventDefault=e.preventDefault||function(){this.returnValue=!1};e.stopPropagation=e.stopPropagation||function(){this.cancelBubble=!0};return e};return{add:function(t,n,r){if(!t.events){t.events={};t.handle=function(n){var r,i=t.events[n.type];n=e(n);for(var s=0,o=i.length;s<o;s++)if(i[s]){r=i[s].call(t,n);if(r===!1){n.preventDefault();n.stopPropagation()}}}}if(!t.events[n]){t.events[n]=[];t.addEventListener?t.addEventListener(n,t.handle,!1):t.attachEvent&&t.attachEvent("on"+n,t.handle)}t.events[n].push(r)},remove:function(e,t,n){var r=e.events[t];for(var i=r.length-1;i>=0;i--)r[i]===n&&r.splice(i,1);if(!r.length){delete e.events[t];e.removeEventListener?e.removeEventListener(t,e.handle,!1):e.detachEvent&&e.detachEvent("on"+t,e.handle)}}}}(),queryElementsBySelector:function(e,t){t=t||document;if(!e)return[];if(e===">*")return t.children;if(typeof document.querySelectorAll=="function")return t.querySelectorAll(e);var n=e.split(","),r=[];for(var i=0;i<n.length;i++){var s=[t||document],o=n[i].replace(/^\s+/,"").replace(/\s+$/,"").split(" ");for(var u=0;u<o.length;u++){token=o[u].replace(/^\s+/,"").replace(/\s+$/,"");if(token.indexOf("#")>-1){var a=token.split("#"),f=a[0],l=a[1],c=document.getElementById(l);if(c&&f&&c.nodeName.toLowerCase()!=f)return[];s=c?[c]:[];continue}if(token.indexOf(".")>-1){var a=token.split("."),f=a[0]||"*",h=a[1],p=[],d=0;for(var v=0;v<s.length;v++){var m;f=="*"?m=s[v].getElementsByTagName("*"):m=s[v].getElementsByTagName(f);for(var g=0;g<m.length;g++)p[d++]=m[g]}s=[];var y=0;for(var b=0;b<p.length;b++)p[b].className&&p[b].className.match(new RegExp("(\\s|^)"+h+"(\\s|$)"))&&(s[y++]=p[b]);continue}if(token.match(/^(\w*)\[(\w+)([=~\|\^\$\*]?)=?"?([^\]"]*)"?\]$/)){var f=RegExp.$1||"*",w=RegExp.$2,E=RegExp.$3,S=RegExp.$4;w.toLowerCase()=="for"&&this.browser.msie&&this.browser.version<8&&(w="htmlFor");var p=[],d=0;for(var v=0;v<s.length;v++){var m;f=="*"?m=s[v].getElementsByTagName("*"):m=s[v].getElementsByTagName(f);for(var g=0;m[g];g++)p[d++]=m[g]}s=[];var y=0,x;switch(E){case"=":x=function(e){return e.getAttribute(w)==S};break;case"~":x=function(e){return e.getAttribute(w).match(new RegExp("(\\s|^)"+S+"(\\s|$)"))};break;case"|":x=function(e){return e.getAttribute(w).match(new RegExp("^"+S+"-?"))};break;case"^":x=function(e){return e.getAttribute(w).indexOf(S)==0};break;case"$":x=function(e){return e.getAttribute(w).lastIndexOf(S)==e.getAttribute(w).length-S.length};break;case"*":x=function(e){return e.getAttribute(w).indexOf(S)>-1};break;default:x=function(e){return e.getAttribute(w)}}s=[];var y=0;for(var b=0;b<p.length;b++)x(p[b])&&(s[y++]=p[b]);continue}f=token;var p=[],d=0;for(var v=0;v<s.length;v++){var m=s[v].getElementsByTagName(f);for(var g=0;g<m.length;g++)p[d++]=m[g]}s=p}r=[].concat(r,s)}return r},trim:function(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")},bind:function(e,t,n){return function(){return e.apply(t,typeof n!="undefined"?[n]:arguments)}}};(function(e,t){"use strict";function n(){if(!r.READY){r.event.determineEventTypes();for(var e in r.gestures)r.gestures.hasOwnProperty(e)&&r.detection.register(r.gestures[e]);r.event.onTouch(r.DOCUMENT,r.EVENT_MOVE,r.detection.detect),r.event.onTouch(r.DOCUMENT,r.EVENT_END,r.detection.detect),r.READY=!0}}var r=function(e,t){return new r.Instance(e,t||{})};r.defaults={stop_browser_behavior:{userSelect:"none",touchAction:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},r.HAS_POINTEREVENTS=navigator.pointerEnabled||navigator.msPointerEnabled,r.HAS_TOUCHEVENTS="ontouchstart"in e,r.MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android/i,r.NO_MOUSEEVENTS=r.HAS_TOUCHEVENTS&&navigator.userAgent.match(r.MOBILE_REGEX),r.EVENT_TYPES={},r.DIRECTION_DOWN="down",r.DIRECTION_LEFT="left",r.DIRECTION_UP="up",r.DIRECTION_RIGHT="right",r.POINTER_MOUSE="mouse",r.POINTER_TOUCH="touch",r.POINTER_PEN="pen",r.EVENT_START="start",r.EVENT_MOVE="move",r.EVENT_END="end",r.DOCUMENT=document,r.plugins={},r.READY=!1,r.Instance=function(e,t){var i=this;return n(),this.element=e,this.enabled=!0,this.options=r.utils.extend(r.utils.extend({},r.defaults),t||{}),this.options.stop_browser_behavior&&r.utils.stopDefaultBrowserBehavior(this.element,this.options.stop_browser_behavior),r.event.onTouch(e,r.EVENT_START,function(e){i.enabled&&r.detection.startDetect(i,e)}),this},r.Instance.prototype={on:function(e,t){for(var n=e.split(" "),r=0;n.length>r;r++)this.element.addEventListener(n[r],t,!1);return this},off:function(e,t){for(var n=e.split(" "),r=0;n.length>r;r++)this.element.removeEventListener(n[r],t,!1);return this},trigger:function(e,t){var n=r.DOCUMENT.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t;var i=this.element;return r.utils.hasParent(t.target,i)&&(i=t.target),i.dispatchEvent(n),this},enable:function(e){return this.enabled=e,this}};var i=null,s=!1,o=!1;r.event={bindDom:function(e,t,n){for(var r=t.split(" "),i=0;r.length>i;i++)e.addEventListener(r[i],n,!1)},onTouch:function(e,t,n){var u=this;this.bindDom(e,r.EVENT_TYPES[t],function(f){var l=f.type.toLowerCase();if(!l.match(/mouse/)||!o){(l.match(/touch/)||l.match(/pointerdown/)||l.match(/mouse/)&&1===f.which)&&(s=!0),l.match(/touch|pointer/)&&(o=!0);var c=0;s&&(r.HAS_POINTEREVENTS&&t!=r.EVENT_END?c=r.PointerEvent.updatePointer(t,f):l.match(/touch/)?c=f.touches.length:o||(c=l.match(/up/)?0:1),c>0&&t==r.EVENT_END?t=r.EVENT_MOVE:c||(t=r.EVENT_END),c||null===i?i=f:f=i,n.call(r.detection,u.collectEventData(e,t,f)),r.HAS_POINTEREVENTS&&t==r.EVENT_END&&(c=r.PointerEvent.updatePointer(t,f))),c||(i=null,s=!1,o=!1,r.PointerEvent.reset())}})},determineEventTypes:function(){var e;e=r.HAS_POINTEREVENTS?r.PointerEvent.getEvents():r.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],r.EVENT_TYPES[r.EVENT_START]=e[0],r.EVENT_TYPES[r.EVENT_MOVE]=e[1],r.EVENT_TYPES[r.EVENT_END]=e[2]},getTouchList:function(e){return r.HAS_POINTEREVENTS?r.PointerEvent.getTouchList():e.touches?e.touches:[{identifier:1,pageX:e.pageX,pageY:e.pageY,target:e.target}]},collectEventData:function(e,t,n){var i=this.getTouchList(n,t),s=r.POINTER_TOUCH;return(n.type.match(/mouse/)||r.PointerEvent.matchType(r.POINTER_MOUSE,n))&&(s=r.POINTER_MOUSE),{center:r.utils.getCenter(i),timeStamp:(new Date).getTime(),target:n.target,touches:i,eventType:t,pointerType:s,srcEvent:n,preventDefault:function(){this.srcEvent.preventManipulation&&this.srcEvent.preventManipulation(),this.srcEvent.preventDefault&&this.srcEvent.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return r.detection.stopDetect()}}}},r.PointerEvent={pointers:{},getTouchList:function(){var e=this,t=[];return Object.keys(e.pointers).sort().forEach(function(n){t.push(e.pointers[n])}),t},updatePointer:function(e,t){return e==r.EVENT_END?this.pointers={}:(t.identifier=t.pointerId,this.pointers[t.pointerId]=t),Object.keys(this.pointers).length},matchType:function(e,t){if(!t.pointerType)return!1;var n={};return n[r.POINTER_MOUSE]=t.pointerType==t.MSPOINTER_TYPE_MOUSE||t.pointerType==r.POINTER_MOUSE,n[r.POINTER_TOUCH]=t.pointerType==t.MSPOINTER_TYPE_TOUCH||t.pointerType==r.POINTER_TOUCH,n[r.POINTER_PEN]=t.pointerType==t.MSPOINTER_TYPE_PEN||t.pointerType==r.POINTER_PEN,n[e]},getEvents:function(){return["pointerdown MSPointerDown","pointermove MSPointerMove","pointerup pointercancel MSPointerUp MSPointerCancel"]},reset:function(){this.pointers={}}},r.utils={extend:function(e,n,r){for(var i in n)e[i]!==t&&r||(e[i]=n[i]);return e},hasParent:function(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1},getCenter:function(e){for(var t=[],n=[],r=0,i=e.length;i>r;r++)t.push(e[r].pageX),n.push(e[r].pageY);return{pageX:(Math.min.apply(Math,t)+Math.max.apply(Math,t))/2,pageY:(Math.min.apply(Math,n)+Math.max.apply(Math,n))/2}},getVelocity:function(e,t,n){return{x:Math.abs(t/e)||0,y:Math.abs(n/e)||0}},getAngle:function(e,t){var n=t.pageY-e.pageY,r=t.pageX-e.pageX;return 180*Math.atan2(n,r)/Math.PI},getDirection:function(e,t){var n=Math.abs(e.pageX-t.pageX),i=Math.abs(e.pageY-t.pageY);return n>=i?e.pageX-t.pageX>0?r.DIRECTION_LEFT:r.DIRECTION_RIGHT:e.pageY-t.pageY>0?r.DIRECTION_UP:r.DIRECTION_DOWN},getDistance:function(e,t){var n=t.pageX-e.pageX,r=t.pageY-e.pageY;return Math.sqrt(n*n+r*r)},getScale:function(e,t){return e.length>=2&&t.length>=2?this.getDistance(t[0],t[1])/this.getDistance(e[0],e[1]):1},getRotation:function(e,t){return e.length>=2&&t.length>=2?this.getAngle(t[1],t[0])-this.getAngle(e[1],e[0]):0},isVertical:function(e){return e==r.DIRECTION_UP||e==r.DIRECTION_DOWN},stopDefaultBrowserBehavior:function(e,t){var n,r=["webkit","khtml","moz","ms","o",""];if(t&&e.style){for(var i=0;r.length>i;i++)for(var s in t)t.hasOwnProperty(s)&&(n=s,r[i]&&(n=r[i]+n.substring(0,1).toUpperCase()+n.substring(1)),e.style[n]=t[s]);"none"==t.userSelect&&(e.onselectstart=function(){return!1})}}},r.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(e,t){this.current||(this.stopped=!1,this.current={inst:e,startEvent:r.utils.extend({},t),lastEvent:!1,name:""},this.detect(t))},detect:function(e){if(this.current&&!this.stopped){e=this.extendEventData(e);for(var t=this.current.inst.options,n=0,i=this.gestures.length;i>n;n++){var s=this.gestures[n];if(!this.stopped&&t[s.name]!==!1&&s.handler.call(s,e,this.current.inst)===!1){this.stopDetect();break}}return this.current&&(this.current.lastEvent=e),e.eventType==r.EVENT_END&&!e.touches.length-1&&this.stopDetect(),e}},stopDetect:function(){this.previous=r.utils.extend({},this.current),this.current=null,this.stopped=!0},extendEventData:function(e){var t=this.current.startEvent;if(t&&(e.touches.length!=t.touches.length||e.touches===t.touches)){t.touches=[];for(var n=0,i=e.touches.length;i>n;n++)t.touches.push(r.utils.extend({},e.touches[n]))}var s=e.timeStamp-t.timeStamp,o=e.center.pageX-t.center.pageX,u=e.center.pageY-t.center.pageY,a=r.utils.getVelocity(s,o,u);return r.utils.extend(e,{deltaTime:s,deltaX:o,deltaY:u,velocityX:a.x,velocityY:a.y,distance:r.utils.getDistance(t.center,e.center),angle:r.utils.getAngle(t.center,e.center),direction:r.utils.getDirection(t.center,e.center),scale:r.utils.getScale(t.touches,e.touches),rotation:r.utils.getRotation(t.touches,e.touches),startEvent:t}),e},register:function(e){var n=e.defaults||{};return n[e.name]===t&&(n[e.name]=!0),r.utils.extend(r.defaults,n,!0),e.index=e.index||1e3,this.gestures.push(e),this.gestures.sort(function(e,t){return e.index<t.index?-1:e.index>t.index?1:0}),this.gestures}},r.gestures=r.gestures||{},r.gestures.Hold={name:"hold",index:10,defaults:{hold_timeout:500,hold_threshold:1},timer:null,handler:function(e,t){switch(e.eventType){case r.EVENT_START:clearTimeout(this.timer),r.detection.current.name=this.name,this.timer=setTimeout(function(){"hold"==r.detection.current.name&&t.trigger("hold",e)},t.options.hold_timeout);break;case r.EVENT_MOVE:e.distance>t.options.hold_threshold&&clearTimeout(this.timer);break;case r.EVENT_END:clearTimeout(this.timer)}}},r.gestures.Tap={name:"tap",index:100,defaults:{tap_max_touchtime:250,tap_max_distance:10,tap_always:!0,doubletap_distance:20,doubletap_interval:300},handler:function(e,t){if(e.eventType==r.EVENT_END){var n=r.detection.previous,i=!1;if(e.deltaTime>t.options.tap_max_touchtime||e.distance>t.options.tap_max_distance)return;n&&"tap"==n.name&&e.timeStamp-n.lastEvent.timeStamp<t.options.doubletap_interval&&e.distance<t.options.doubletap_distance&&(t.trigger("doubletap",e),i=!0),(!i||t.options.tap_always)&&(r.detection.current.name="tap",t.trigger(r.detection.current.name,e))}}},r.gestures.Swipe={name:"swipe",index:40,defaults:{swipe_max_touches:1,swipe_velocity:.7},handler:function(e,t){if(e.eventType==r.EVENT_END){if(t.options.swipe_max_touches>0&&e.touches.length>t.options.swipe_max_touches)return;(e.velocityX>t.options.swipe_velocity||e.velocityY>t.options.swipe_velocity)&&(t.trigger(this.name,e),t.trigger(this.name+e.direction,e))}}},r.gestures.Drag={name:"drag",index:50,defaults:{drag_min_distance:10,drag_max_touches:1,drag_block_horizontal:!1,drag_block_vertical:!1,drag_lock_to_axis:!1,drag_lock_min_distance:25},triggered:!1,handler:function(e,n){if(r.detection.current.name!=this.name&&this.triggered)return n.trigger(this.name+"end",e),this.triggered=!1,t;if(!(n.options.drag_max_touches>0&&e.touches.length>n.options.drag_max_touches))switch(e.eventType){case r.EVENT_START:this.triggered=!1;break;case r.EVENT_MOVE:if(e.distance<n.options.drag_min_distance&&r.detection.current.name!=this.name)return;r.detection.current.name=this.name,(r.detection.current.lastEvent.drag_locked_to_axis||n.options.drag_lock_to_axis&&n.options.drag_lock_min_distance<=e.distance)&&(e.drag_locked_to_axis=!0);var i=r.detection.current.lastEvent.direction;e.drag_locked_to_axis&&i!==e.direction&&(e.direction=r.utils.isVertical(i)?0>e.deltaY?r.DIRECTION_UP:r.DIRECTION_DOWN:0>e.deltaX?r.DIRECTION_LEFT:r.DIRECTION_RIGHT),this.triggered||(n.trigger(this.name+"start",e),this.triggered=!0),n.trigger(this.name,e),n.trigger(this.name+e.direction,e),(n.options.drag_block_vertical&&r.utils.isVertical(e.direction)||n.options.drag_block_horizontal&&!r.utils.isVertical(e.direction))&&e.preventDefault();break;case r.EVENT_END:this.triggered&&n.trigger(this.name+"end",e),this.triggered=!1}}},r.gestures.Transform={name:"transform",index:45,defaults:{transform_min_scale:.01,transform_min_rotation:1,transform_always_block:!1},triggered:!1,handler:function(e,n){if(r.detection.current.name!=this.name&&this.triggered)return n.trigger(this.name+"end",e),this.triggered=!1,t;if(!(2>e.touches.length))switch(n.options.transform_always_block&&e.preventDefault(),e.eventType){case r.EVENT_START:this.triggered=!1;break;case r.EVENT_MOVE:var i=Math.abs(1-e.scale),s=Math.abs(e.rotation);if(n.options.transform_min_scale>i&&n.options.transform_min_rotation>s)return;r.detection.current.name=this.name,this.triggered||(n.trigger(this.name+"start",e),this.triggered=!0),n.trigger(this.name,e),s>n.options.transform_min_rotation&&n.trigger("rotate",e),i>n.options.transform_min_scale&&(n.trigger("pinch",e),n.trigger("pinch"+(1>e.scale?"in":"out"),e));break;case r.EVENT_END:this.triggered&&n.trigger(this.name+"end",e),this.triggered=!1}}},r.gestures.Touch={name:"touch",index:-1/0,defaults:{prevent_default:!1,prevent_mouseevents:!1},handler:function(e,n){return n.options.prevent_mouseevents&&e.pointerType==r.POINTER_MOUSE?(e.stopDetect(),t):(n.options.prevent_default&&e.preventDefault(),e.eventType==r.EVENT_START&&n.trigger(this.name,e),t)}},r.gestures.Release={name:"release",index:1/0,handler:function(e,t){e.eventType==r.EVENT_END&&t.trigger(this.name,e)}},"object"==typeof module&&"object"==typeof module.exports?module.exports=r:(e.Hammer=r,"function"==typeof e.define&&e.define.amd&&e.define("hammer",[],function(){return r}))})(this),function(e,t){"use strict";e!==t&&(Hammer.event.bindDom=function(n,r,i){e(n).on(r,function(e){var n=e.originalEvent||e;n.pageX===t&&(n.pageX=e.pageX,n.pageY=e.pageY),n.target||(n.target=e.target),n.which===t&&(n.which=n.button),n.preventDefault||(n.preventDefault=e.preventDefault),n.stopPropagation||(n.stopPropagation=e.stopPropagation),i.call(this,n)})},Hammer.Instance.prototype.on=function(
t,n){return e(this.element).on(t,n)},Hammer.Instance.prototype.off=function(t,n){return e(this.element).off(t,n)},Hammer.Instance.prototype.trigger=function(t,n){var r=e(this.element);return r.has(n.target).length&&(r=e(n.target)),r.trigger({type:t,gesture:n})},e.fn.hammer=function(t){return this.each(function(){var n=e(this),r=n.data("hammer");r?r&&t&&Hammer.utils.extend(r.options,t):n.data("hammer",new Hammer(this,t||{}))})})}(window.jQuery||window.Zepto);window.matchMedia=window.matchMedia||function(e,t){var n,r=e.documentElement,i=r.firstElementChild||r.firstChild,s=e.createElement("body"),o=e.createElement("div");o.id="mq-test-1";o.style.cssText="position:absolute;top:-100em";s.appendChild(o);return function(e){o.innerHTML='&shy;<style media="'+e+'"> #mq-test-1 { width: 42px; }</style>';r.insertBefore(s,i);n=o.offsetWidth==42;r.removeChild(s);return{matches:n,media:e}}}(document);(function(e){e.picturefill=function(){var t=e.document.getElementsByTagName("span");for(var n=0,r=t.length;n<r;n++)if(t[n].getAttribute("data-picture")!==null){var i=t[n].getElementsByTagName("span"),s=[];for(var o=0,u=i.length;o<u;o++){var f=i[o].getAttribute("data-media");(!f||e.matchMedia&&e.matchMedia(f).matches)&&s.push(i[o])}var l=t[n].getElementsByTagName("img")[0];if(s.length){var c=s.pop();if(!l||l.parentNode.nodeName==="NOSCRIPT"){l=e.document.createElement("img");l.alt=t[n].getAttribute("data-alt")}c.getAttribute("data-width")?l.setAttribute("width",c.getAttribute("data-width")):l.removeAttribute("width");c.getAttribute("data-height")?l.setAttribute("height",c.getAttribute("data-height")):l.removeAttribute("height");l.src=c.getAttribute("data-src");c.appendChild(l)}else l&&l.parentNode.removeChild(l)}};if(e.addEventListener){e.addEventListener("resize",e.picturefill,!1);e.addEventListener("DOMContentLoaded",function(){e.picturefill();e.removeEventListener("load",e.picturefill,!1)},!1);e.addEventListener("load",e.picturefill,!1)}else e.attachEvent&&e.attachEvent("onload",e.picturefill)})(this);